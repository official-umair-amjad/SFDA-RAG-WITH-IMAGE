@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: system-ui, sans-serif;
  }
}

@layer components {
  .message-bubble {
    @apply px-4 py-2 rounded-2xl max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg break-words;
  }
  
  .user-message {
    @apply bg-teal-400 text-white ml-auto;
    border-radius: 10px 10px 0px 10px;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 10px 0 rgba(76, 226, 168, 0.838);
  }
  
  .bot-message {
    @apply bg-gray-200 text-gray-800 mr-auto;
    border-radius: 10px 10px 10px 0px;
    backdrop-filter: blur(10px);
    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
  }
  
  .typing-indicator {
    @apply flex space-x-1;
  }
  
  .typing-dot {
    @apply w-2 h-2 bg-teal-400 rounded-full animate-pulse;
    animation-delay: 0ms;
  }
  
  .typing-dot:nth-child(2) {
    animation-delay: 200ms;
  }
  
  .typing-dot:nth-child(3) {
    animation-delay: 400ms;
  }

  /* Markdown styling for bot messages */
  .bot-message .markdown-content {
    @apply text-sm leading-relaxed;
  }

  .bot-message .markdown-content h1 {
    @apply text-lg font-bold mb-2 mt-3 first:mt-0;
  }

  .bot-message .markdown-content h2 {
    @apply text-base font-bold mb-2 mt-3 first:mt-0;
  }

  .bot-message .markdown-content h3 {
    @apply text-sm font-bold mb-1 mt-2 first:mt-0;
  }

  .bot-message .markdown-content p {
    @apply mb-2 last:mb-0;
  }

  .bot-message .markdown-content strong {
    @apply font-bold;
  }

  .bot-message .markdown-content em {
    @apply italic;
  }

  .bot-message .markdown-content ul {
    @apply list-disc list-inside mb-2 space-y-1;
  }

  .bot-message .markdown-content ol {
    @apply list-decimal list-inside mb-2 space-y-1;
  }

  .bot-message .markdown-content li {
    @apply ml-2;
  }

  .bot-message .markdown-content code {
    @apply bg-gray-300 px-1 py-0.5 rounded text-xs font-mono;
  }

  .bot-message .markdown-content pre {
    @apply bg-gray-300 p-2 rounded mb-2 text-xs font-mono overflow-x-auto;
  }

  .bot-message .markdown-content pre code {
    @apply bg-transparent p-0;
  }

  .bot-message .markdown-content blockquote {
    @apply border-l-4 border-gray-400 pl-3 italic mb-2;
  }

  .bot-message .markdown-content a {
    @apply text-blue-600 underline hover:text-blue-800;
  }

  .bot-message .markdown-content hr {
    @apply border-gray-400 my-3;
  }

  /* User message text styling */
  .user-message p {
    @apply text-sm;
  }

  /* Image Preview in Input Area */
  .image-preview-container {
    @apply flex items-start;
  }

  .image-preview-wrapper {
    @apply relative inline-block;
  }

  .image-preview {
    @apply w-20 h-20 object-cover rounded-lg border-2 border-teal-300 shadow-sm;
  }

  .image-preview-remove {
    @apply absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors duration-200;
  }

  /* Image in Message Bubbles */
  .message-image-container {
    @apply w-full;
  }

  .message-image {
    @apply w-full max-w-xs rounded-lg object-cover;
    max-height: 300px;
  }

  .user-message .message-image {
    @apply border-2 border-teal-200;
  }

  .bot-message .message-image {
    @apply border-2 border-gray-300;
  }
}
